# 自動等化器を用いた駆動音低減法の検討

## 実験目的

本実験では、実際の使用の際に入力される信号を模擬し、ADFによる雑音低減の効果を検討することを目的とする。

## 実験方法

本実験は以下の手順で行った。

### ドローンのマイクの取り付け
@のように簡易的にマイクを木材と粘着テープで固定し、取り付けた。

### 音声信号の音源から2つのマイクまでの伝達関数の測定
目的音源からマイクまでの伝達関数を測定した。これにより、任意の音声信号を畳み込むことで、様々な条件での雑音低減のシミュレーションを行うことができる。

伝達関数の測定は設備の都合上室内で行った。実際にドローンを使用するのは屋外を想定しているため、残響を無効化するために1000サンプル以上の伝達関数を切り捨て、半自由音場を模擬した。

なお、伝達関数の測定は下川原らが制作した伝達関数測定ソフトウェア（TFMeasure）@を使用した。

![voice_TFMeasure](figures/voice_TFMeasure.pdf)


### ドローンの駆動音に対する2つのマイクの擬似的な伝達関数の計算

2つのマイク間の疑似伝達関数を計算するためにはそれぞれのマイクで駆動音を収音する必要がある。収音は@の構成を2chに拡張して行った。

疑似伝達関数は2つの駆動音をフーリエ変換し、除算したものを逆フーリエ変換することで得られる。この処理は@calc_pseudo_ir_between_wav_files.pyを実行して行った。

### 駆動音と音声信号それぞれで参照信号と目的信号用の伝達関数を畳み込み

@ @ で各伝達関数を求めたので、駆動音・音声信号それぞれ@calc_convolve_fastのプログラムを実行して伝達関数を畳込み、参照信号と目的信号を生成した。

### 指定したSN比で駆動音と音声信号を合成

@calc_noise_mix を実行し、-40dBから0dBまで5dB刻みで駆動音と音声信号を合成した。これにより、

### 合成した参照信号と目的信号でADFを実行

@と同様に合成した参照信号と目的信号に対して、ADFの各アルゴリズムにおける最適なステップサイズを求め、十分な時間フィルタリングを実行。

## 実験結果

SN比を-40dB、-20dB、0dB、フィルタ長を4、64、256とした場合の各アルゴリズムの収束特性を図@に示す。ただし、それぞれの図において、縦軸はMSE[dB]、横軸はIterationを示している。

![onepage](figures/onepage_legend.png)

## 考察







