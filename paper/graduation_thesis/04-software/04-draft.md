# ソフトウェアの製作

## 使用するソフトウェア・プログラムについて

本研究ではシミュレーションとデータ処理のためにPythonとGo言語を主に使用した。

### Pythonについて

Pythonは、汎用のプログラミング言語である。コードがシンプルで扱いやすく設計されており、C言語などに比べて、さまざまなプログラムを分かりやすく、少ないコード行数で書けるといった特徴がある。

標準ライブラリやサードパーティ製のライブラリなど、さまざまな領域に特化した豊富で大規模なツール群が用意され、自らの使用目的に応じて機能を拡張していくことができる。

このような特徴から、様々な試行をしながら行う開発に適している。本研究ではこの特性を活かし、予備実験・データ処理・グラフ作成にPythonを使用している。


@TODO pythonのインストール方法

### Go言語について

Googleで開発された、汎用のプログラミング言語である。Goは、静的型付け、C言語の伝統に則ったコンパイル言語、メモリ安全性、ガベージコレクション、並行性などの特徴を持つ。また、軽量スレッディングのための機能、Pythonのような動的型付け言語のようなプログラミングの容易性、などの特徴もある。

また、GoはPythonのようにシンプルな記法をもち、誰が書いても同じコードになりやすく学習しやすいため、研究用途に適した言語である。

@TODO goのインストール方法

### プログラミング言語の使い分けについて

Pythonは@で述べた特徴から、様々な試行をしながら行う開発に適している。一方で、速度が遅く、リアルタイム処理には向かない。したがって、本研究ではこの特性を活かし、予備実験・データ処理・グラフ作成にPythonを使用した。

また、Goは言語仕様が現代的で、実行速度が速く、クロスコンパイルが可能といった特徴から、ADFライブラリの作成および実装に使用した。

@TODO

## Pythonを使用した適応フィルタの予備実験

### 音声ファイル処理およびグラフ作成プログラムの制作

本節では後述の実験結果の処理に使用したプログラムの制作について述べる。

音声ファイルの処理には行列演算が必要である。この処理には数値計算を効率的に行うための拡張モジュールであるNumPyを使用した。また、波形のプロットにはNumPyを基盤にしたグラフ描画ライブラリmatplotlibを使用した。
音声ファイルの入出力には標準ライブラリであるwaveや外部ライブラリのPySoundFileを使用した。

@TODO wavファイル

- モジュール
   - 波形プロットモジュール
      波形プロット簡易化のモジュールを@に示す。
      @plot_tools.py

   - 音声ファイル入出力モジュール
      音声ファイル入出力のモジュールを@に示す。
      @wave_handler.py

- デコレータ
   - 関数の実行時間計測用デコレータ
      @decorators.py

   - 関数の情報表示用デコレータ
      @decorators.py

- ツール
   - 音声ファイル畳み込み用スクリプト
      @calc_covolution_wav.py
   - ステレオ音声ファイルをLRモノラル音声に分割するスクリプト
      @calc_stereo2monoLR.py
   - 目的の音声ファイルからノイズの音声ファイルに含まれる成分を取り除くスクリプト（スペクトラムサブトラクション法）
      @calc_subtracted_wav.py
   - 指定秒数分の白色雑音をサンプリング周波数48kHzで生成するスクリプト
      @generate_white_noise_as_wav.py
   - csvファイルからmp4またはgif画像を生成するスクリプト
      @plot_animation_from_csv.py
   - csvファイルから波形をプロットするスクリプト
      @plot_from_csv.py
   - 複数のwavファイルから一枚の図に波形をプロットするスクリプト
      @plot_multiwave.py
   - スペクトログラムを表示するスクリプト
      @plot_spectrogram_librosa.py



@TODO ディレクトリ構造

waveを使用した自作音声入出力モジュールを@に示す。

### 定常なFIRフィルタの動作確認



@TODO


### 既存のADFライブラリについて

pythonで記述された適応信号処理のライブラリとして[Padasip](https://matousc89.github.io/padasip/index.html#padasip)というものが存在する。Padasipは信号のフィルタリング、予測、復元、分類といった適応信号処理を簡易化するために設計されたライブラリである。PadasipではLMS・NLMS、AP、RLSをはじめとする主要なアルゴリズムが一通り実装されている。




